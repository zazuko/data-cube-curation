(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},"177d":function(t,e,r){"use strict";var a=r("e699"),n=r.n(a);n.a},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},6:function(t,e){},7:function(t,e){},8:function(t,e){},9:function(t,e){},b9d1:function(t,e,r){"use strict";var a=r("c77e"),n=r.n(a);n.a},c77e:function(t,e,r){},cd49:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container is-fluid",attrs:{id:"app"}},[r("b-navbar",[r("template",{slot:"brand"},[r("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[t._v("\n        Data-cube-curation\n      ")])],1),r("template",{slot:"start"},[r("b-navbar-item",{attrs:{tag:"router-link",to:{name:"projects"}}},[t._v("\n        Projects\n      ")])],1)],2),r("main",{staticClass:"main"},[r("router-view")],1)],1)},o=[],i=r("2877"),s={},c=Object(i["a"])(s,n,o,!1,null,null,null),l=c.exports,u=r("289d"),p=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"projects-page"}},[r("h2",{staticClass:"title is-2"},[t._v("My projects")]),r("div",{staticClass:"actions"},[r("b-button",{attrs:{type:"is-primary","icon-left":"plus"}},[t._v("\n      New project\n    ")])],1),r("b-table",{attrs:{data:t.projects},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-table-column",{attrs:{field:"name",label:"Name"}},[r("router-link",{attrs:{to:{name:"project",params:{id:e.row.id}}}},[t._v("\n          "+t._s(e.row.name)+"\n        ")])],1),r("b-table-column",{attrs:{field:"",label:""}},[r("div",{staticClass:"buttons"},[r("b-button",{attrs:{"icon-left":"pencil"}}),r("b-button",{attrs:{"icon-left":"trash-can-outline"}})],1)])]}}])},[r("template",{slot:"empty"},[r("section",{staticClass:"section"},[r("div",{staticClass:"content has-text-grey has-text-centered"},[r("p",[t._v("You don't have any projects yet.")])])])])],2)],1)},b=[],f=r("d225"),m=r("b0b4"),y=r("308d"),h=r("6bb5"),j=r("4e2b"),_=r("9ab4"),v=r("2fe1"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.data.isLoading?r("div",{staticClass:"content has-text-grey has-text-centered"},[r("p",[t._v("Loading...")])]):t._e(),t.data.error?r("div",{staticClass:"content has-text-danger has-text-centered"},[r("p",[t._v("Error: "+t._s(t.data.error))])]):t._e(),t.isReady?t._t("default",null,{data:t.data.data}):t._e()],2)},g=[],k=r("60a3"),w=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"isReady",get:function(){return!this.data.isLoading&&!this.data.error}}]),e}(k["c"]);Object(_["a"])([Object(k["b"])()],w.prototype,"data",void 0),w=Object(_["a"])([k["a"]],w);var x=w,C=x,P=Object(i["a"])(C,O,g,!1,null,null,null),S=P.exports,E=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"projects",get:function(){return this.$store.getters["projectsFixtures/list"]}}]),e}(a["a"]);E=Object(_["a"])([Object(v["b"])({components:{Loader:S}})],E);var A=E,T=A,R=Object(i["a"])(T,d,b,!1,null,null,null),$=R.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"project-page"}},[r("h2",{staticClass:"title is-2"},[t._v(t._s(t.project.name))]),r("div",{staticClass:"tabs"},[r("ul",[r("router-link",{attrs:{to:{name:"project/data"}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.href,n=(e.route,e.navigate),o=e.isActive;e.isExactActive;return[r("li",{class:[o&&"is-active"]},[r("a",{attrs:{href:a},on:{click:n}},[t._v("Input data")])])]}}])}),r("router-link",{attrs:{to:{name:"project/tables"}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.href,n=(e.route,e.navigate),o=e.isActive;e.isExactActive;return[r("li",{class:[o&&"is-active"]},[r("a",{attrs:{href:a},on:{click:n}},[t._v("Output tables")])])]}}])}),r("router-link",{attrs:{to:{name:"project/rules"}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.href,n=(e.route,e.navigate),o=e.isActive;e.isExactActive;return[r("li",{class:[o&&"is-active"]},[r("a",{attrs:{href:a},on:{click:n}},[t._v("Mapping rules")])])]}}])})],1)]),r("section",{staticClass:"tab-content"},[r("router-view")],1)])},I=[],M=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"projectId",get:function(){return this.$route.params.id}},{key:"project",get:function(){return this.$store.getters["projectsFixtures/one"](this.projectId)}}]),e}(k["c"]);M=Object(_["a"])([k["a"]],M);var N=M,F=N,L=Object(i["a"])(F,D,I,!1,null,null,null),B=L.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-data"},[r("b-field",{staticClass:"file"},[r("b-upload",{attrs:{accept:".csv"},on:{input:t.uploadSource}},[r("a",{staticClass:"button is-primary"},[r("b-icon",{attrs:{icon:"upload"}}),r("span",[t._v("Upload CSV")])],1)])],1),t._l(t.project.sources,(function(e){return r("div",{key:e.id,staticClass:"sources-list"},[r("article",{staticClass:"card"},[r("header",{staticClass:"card-header"},[r("h2",{staticClass:"card-header-title"},[t._v(t._s(e.name))]),r("b-button",{attrs:{"icon-left":"trash-can-outline"}})],1),r("section",{staticClass:"card-content"},[r("b-table",{attrs:{data:e.data,bordered:"",striped:"",narrowed:""},scopedSlots:t._u([{key:"default",fn:function(a){return t._l(e.columns,(function(e,n){return r("b-table-column",{key:n,attrs:{field:e.field,label:e.label}},[r("template",{slot:"header"},[t._v("\n                "+t._s(e.label)+"\n                "),r("b-taglist",t._l(t.columnRules(e),(function(e){return r("TableTag",{key:e.id,attrs:{table:e.table}},[t._v("\n                    "+t._s(e.table.name)+" > "+t._s(e.property)+"\n                  ")])})),1)],1),t._v("\n              "+t._s(a.row[e.field])+"\n            ")],2)}))}}],null,!0)},[r("template",{slot:"empty"},[t._v("File is empty")])],2)],1),r("footer",{staticClass:"card-footer"},[r("b-button",{staticClass:"is-fullwidth",attrs:{"icon-right":"chevron-double-down"}},[t._v("\n          Show more\n        ")])],1)])])}))],2)},G=[],U=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),Y=(r("7514"),r("6762"),r("2fdb"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-tag",{style:{"background-color":t.table.color}},[t._t("default",[t._v(t._s(t.table.name))])],2)}),H=[],K=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(k["c"]);Object(_["a"])([Object(k["b"])()],K.prototype,"table",void 0),K=Object(_["a"])([k["a"]],K);var W=K,Z=W,q=Object(i["a"])(Z,Y,H,!1,null,null,null),J=q.exports;function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(r,!0).forEach((function(e){Object(U["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var X=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"uploadSource",value:function(){}},{key:"columnRules",value:function(t){var e=this,r=t.field,a=this.project.rules.filter((function(t){return t.columns.includes(r)}));return a.map((function(t){var r=e.project.tables.find((function(e){return e.id===t.table}));return Q({},t,{table:r})}))}},{key:"projectId",get:function(){return this.$route.params.id}},{key:"project",get:function(){return this.$store.getters["projectsFixtures/one"](this.projectId)}}]),e}(k["c"]);X=Object(_["a"])([Object(k["a"])({components:{TableTag:J}})],X);var tt=X,et=tt,rt=(r("177d"),Object(i["a"])(et,V,G,!1,null,null,null)),at=rt.exports,nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"output-tables"},[r("b-field",[r("b-button",{attrs:{type:"is-primary","icon-left":"plus"},on:{click:t.createTable}},[t._v("\n      Add table\n    ")])],1),r("section",{staticClass:"tables-list"},t._l(t.project.tables,(function(e,a){return r("article",{key:a,staticClass:"card"},[r("header",{staticClass:"card-header",style:{"background-color":e.color}},[r("h3",{staticClass:"card-header-title"},[t._v(t._s(e.name))])]),r("section",{staticClass:"card-content"},[r("table",{staticClass:"table"},[r("tbody",t._l(e.properties,(function(e,a){return r("tr",{key:a},[r("th",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.type))])])})),0)])]),r("footer",{staticClass:"card-footer"},[r("div",{staticClass:"buttons has-addons"},[r("b-button",{attrs:{"icon-left":"pencil"},on:{click:function(r){return t.editTable(e)}}}),r("b-button",{attrs:{"icon-left":"trash-can-outline"}})],1)])])})),0)],1)},ot=[],it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"modal-card",attrs:{action:""},on:{submit:t.save}},[r("header",{staticClass:"modal-card-head"},[r("h3",{staticClass:"modal-card-title"},[t._v(t._s(t.title))])]),r("section",{staticClass:"modal-card-body"},[r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{type:"text",value:t.table.name,placeholder:"",required:""}})],1),r("b-field",{attrs:{label:"Color"}},[r("b-input",{attrs:{type:"text",value:t.table.color,placeholder:"",required:""}})],1),r("b-field",{attrs:{label:"Properties"}},[r("b-table",{attrs:{data:t.table.properties},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-table-column",{attrs:{label:"Name"}},[r("b-input",{attrs:{value:e.row.name}})],1),r("b-table-column",{attrs:{label:"Type"}},[r("b-autocomplete",{attrs:{data:t.dataTypes,"open-on-focus":""},model:{value:e.row.type,callback:function(r){t.$set(e.row,"type",r)},expression:"props.row.type"}})],1),r("b-table-column",{attrs:{label:""}},[r("button",{staticClass:"delete is-medium",on:{click:function(r){return t.deleteProperty(e.index)}}})])]}}])},[r("template",{slot:"empty"},[t._v("\n          No properties\n        ")]),r("template",{slot:"footer"},[r("b-button",{attrs:{"icon-left":"plus"},on:{click:t.addProperty}},[t._v("Add property")])],1)],2)],1)],1),r("footer",{staticClass:"modal-card-foot"},[r("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Cancel")]),r("button",{staticClass:"button is-primary"},[t._v("Save")])])])},st=[],ct=(r("55dd"),r("7f7f"),function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"addProperty",value:function(){this.table.properties.push({name:"",type:""})}},{key:"deleteProperty",value:function(t){this.table.properties.splice(t,1)}},{key:"save",value:function(){this.$buefy.dialog.alert({message:"Not implemented yet"})}},{key:"dataTypes",get:function(){var t=["xsd:int","xsd:gYearMonth"],e=this.tables.map((function(t){return t.name}));return t.concat(e).sort()}},{key:"title",get:function(){return this.table.id?"Edit table":"Create table"}}]),e}(k["c"]));Object(_["a"])([Object(k["b"])({default:ut})],ct.prototype,"table",void 0),Object(_["a"])([Object(k["b"])({default:[]})],ct.prototype,"tables",void 0),ct=Object(_["a"])([k["a"]],ct);var lt=ct;function ut(){return{id:"",name:"",color:"",properties:[]}}var pt=lt,dt=Object(i["a"])(pt,it,st,!1,null,null,null),bt=dt.exports,ft=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"createTable",value:function(){this.$buefy.modal.open({parent:this,component:bt,props:{tables:this.project.tables},hasModalCard:!0})}},{key:"editTable",value:function(t){this.$buefy.modal.open({parent:this,component:bt,props:{tables:this.project.tables,table:t},hasModalCard:!0})}},{key:"projectId",get:function(){return this.$route.params.id}},{key:"project",get:function(){return this.$store.getters["projectsFixtures/one"](this.projectId)}}]),e}(k["c"]);ft=Object(_["a"])([Object(k["a"])({components:{TableForm:bt}})],ft);var mt=ft,yt=mt,ht=(r("b9d1"),Object(i["a"])(yt,nt,ot,!1,null,null,null)),jt=ht.exports,_t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mapping-rules"},[r("b-field",[r("b-button",{attrs:{type:"is-primary","icon-left":"plus"},on:{click:t.createRule}},[t._v("\n      Add rule\n    ")])],1),r("b-table",{attrs:{data:t.project.rules},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-table-column",{attrs:{label:"Data column(s)"}},[t._v("\n        "+t._s(e.row.columns.join(", "))+"\n      ")]),r("b-table-column",{attrs:{label:"Target table"}},[r("TableTag",{attrs:{table:t.getTable(e.row.table)}})],1),r("b-table-column",{attrs:{label:"Target property"}},[t._v("\n        "+t._s(e.row.property)+"\n      ")]),r("b-table-column",{attrs:{label:"Transform"}},[t._v("\n        "+t._s(e.row.transform)+"\n      ")]),r("b-table-column",{attrs:{label:""}},[r("div",{staticClass:"buttons has-addons"},[r("b-button",{staticClass:"is-small",attrs:{"icon-left":"pencil"},on:{click:function(r){return t.editRule(e.row)}}}),r("b-button",{staticClass:"is-small",attrs:{"icon-left":"trash-can-outline"}})],1)])]}}])})],1)},vt=[],Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"modal-card",attrs:{action:""},on:{submit:t.save}},[r("header",{staticClass:"modal-card-head"},[r("h3",{staticClass:"modal-card-title"},[t._v(t._s(t.title))])]),r("section",{staticClass:"modal-card-body"},[r("b-field",{attrs:{label:"Source columns"}},[r("b-taginput",{attrs:{autocomplete:"",data:t.columns,field:"compositeName","open-on-focus":""},model:{value:t.rule.columns,callback:function(e){t.$set(t.rule,"columns",e)},expression:"rule.columns"}})],1),r("b-field",{attrs:{label:"Target table"}},[r("b-autocomplete",{attrs:{data:t.tables,field:"id","open-on-focus":""},scopedSlots:t._u([{key:"default",fn:function(t){return[r("TableTag",{attrs:{table:t.option}})]}}]),model:{value:t.rule.table,callback:function(e){t.$set(t.rule,"table",e)},expression:"rule.table"}})],1),r("b-field",{attrs:{label:"Target property"}},[r("b-autocomplete",{attrs:{data:t.getTableProperties(t.rule.table),field:"name",disabled:!t.rule.table,"open-on-focus":""},model:{value:t.rule.property,callback:function(e){t.$set(t.rule,"property",e)},expression:"rule.property"}})],1),r("b-field",{attrs:{label:"Transform"}},[r("b-input",{attrs:{value:t.rule.transform}})],1)],1),r("footer",{staticClass:"modal-card-foot"},[r("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Cancel")]),r("button",{staticClass:"button is-primary"},[t._v("Save")])])])},gt=[];function kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kt(r,!0).forEach((function(e){Object(U["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var xt=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"getTableProperties",value:function(t){var e=this.tables.find((function(e){return e.id===t}));return e?e.properties:[]}},{key:"save",value:function(){this.$buefy.dialog.alert({message:"Not implemeted yet"})}},{key:"columns",get:function(){return this.sources.flatMap((function(t){return t.columns.map((function(e){return wt({},e,{compositeName:"".concat(t.name," / ").concat(e.field)})}))}))}},{key:"title",get:function(){return this.rule.id?"Edit rule":"Create rule"}}]),e}(k["c"]);Object(_["a"])([Object(k["b"])({default:Pt})],xt.prototype,"rule",void 0),Object(_["a"])([Object(k["b"])({default:function(){return[]}})],xt.prototype,"tables",void 0),Object(_["a"])([Object(k["b"])({default:function(){return[]}})],xt.prototype,"sources",void 0),xt=Object(_["a"])([Object(k["a"])({components:{TableTag:J}})],xt);var Ct=xt;function Pt(){return{id:"",columns:[],table:"",property:"",transform:""}}var St=Ct,Et=Object(i["a"])(St,Ot,gt,!1,null,null,null),At=Et.exports,Tt=function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"getTable",value:function(t){return this.project.tables.find((function(e){return e.id===t}))}},{key:"createRule",value:function(){this.$buefy.modal.open({parent:this,component:At,props:{tables:this.project.tables,sources:this.project.sources},hasModalCard:!0})}},{key:"editRule",value:function(t){this.$buefy.modal.open({parent:this,component:At,props:{rule:t,tables:this.project.tables,sources:this.project.sources},hasModalCard:!0})}},{key:"projectId",get:function(){return this.$route.params.id}},{key:"project",get:function(){return this.$store.getters["projectsFixtures/one"](this.projectId)}}]),e}(k["c"]);Tt=Object(_["a"])([Object(k["a"])({components:{TableTag:J,RuleForm:At}})],Tt);var Rt=Tt,$t=Rt,Dt=Object(i["a"])($t,_t,vt,!1,null,null,null),It=Dt.exports;a["a"].use(p["a"]);var Mt=new p["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",redirect:{name:"projects"}},{path:"/projects",name:"projects",component:$},{path:"/projects/:id",name:"project",redirect:{name:"project/data"},component:B,children:[{path:"data",name:"project/data",component:at},{path:"tables",name:"project/tables",component:jt},{path:"rules",name:"project/rules",component:It}]}]}),Nt=r("2f62"),Ft=(r("96cf"),r("3b8d")),Lt=(r("8615"),r("cbed"));function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(r,!0).forEach((function(e){Object(U["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Gt=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_API_URL,Ut="https://rdf-cube-curation.described.at/Project",Yt="https://rdf-cube-curation.described.at/Source",Ht="http://schema.org/name",Kt="https://rdf-cube-curation.described.at/api/sources",Wt={Mixin:function(t){return function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"name",get:function(){return this.get(Ht)}},{key:"sourcesCollection",get:function(){return this[Kt]}},{key:"sources",get:function(){return this.sourcesCollection?this.sourcesCollection.members.map((function(t){return Vt({},t,{name:t.get(Ht)})})):[]}}]),e}(t)},shouldApply:function(t){return t.types.contains(Ut)}},Zt={Mixin:function(t){return function(t){function e(){return Object(f["a"])(this,e),Object(y["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(m["a"])(e,[{key:"name",get:function(){return this.get(Ht)}}]),e}(t)},shouldApply:function(t){return t.types.contains(Yt)}},qt=Lt["a"].mediaTypeProcessors.RDF;qt.resourceFactory.mixins.push(Wt),qt.resourceFactory.mixins.push(Zt);var Jt=function(){function t(e){Object(f["a"])(this,t),this.url=e,this.projects=new zt(this)}return Object(m["a"])(t,[{key:"path",value:function(t){return this.url+t}}]),t}(),zt=function(){function t(e){Object(f["a"])(this,t),this.api=e}return Object(m["a"])(t,[{key:"list",value:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.api.path("/projects"),t.next=3,Lt["a"].loadResource(e);case 3:if(r=t.sent,a=r.root,a){t.next=7;break}throw new Error("No `root` in Hydra response");case 7:return t.abrupt("return",a.members||[]);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Lt["a"].loadResource(e);case 2:if(r=t.sent,a=r.root,a){t.next=6;break}throw new Error("Project does not exist: {id}");case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"createSource",value:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.sourcesCollection.operations.find((function(t){return"POST"===t.method})),n={"Content-Type":"text/csv","Content-Disposition":'attachment; filename="'.concat(r.name,'"')},t.next=4,a.invoke(r,n);case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()}]),t}(),Qt=new Jt(Gt);function Xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xt(r,!0).forEach((function(e){Object(U["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ee={projects:{isLoading:!0}},re={list:function(t){return te({},t.projects,{data:Object.values(t.projects.data||{})})},one:function(t){return function(e){var r=(t.projects.data||{})[e];return te({},t.projects,{data:r})}}},ae={loadAll:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Qt.projects.list();case 4:a=t.sent,r("storeAll",a),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),r("loadingError",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),loadOne:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,Qt.projects.get(r);case 4:n=t.sent,a("storeOne",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),a("loadingError",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,r){return t.apply(this,arguments)}return e}(),uploadSource:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dispatch,n=r.project,o=r.file,t.next=4,Qt.projects.createSource(n,o);case 4:t.sent,a("loadOne",n.id);case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},ne={storeAll:function(t,e){var r={};t.projects.data=e.reduce((function(t,e){return t[e.id]=e,t}),r),t.projects.isLoading=!1},storeOne:function(t,e){t.projects.data||(t.projects.data={}),t.projects.data[e.id]=e,t.projects.isLoading=!1},loadingError:function(t,e){console.error(e),t.projects.isLoading=!1,t.projects.error="Error: could not load projects"}},oe={namespaced:!0,state:ee,getters:re,actions:ae,mutations:ne};r("6b54");function ie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ie(r,!0).forEach((function(e){Object(U["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ie(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ce={projects:{"dfe46722-3b54-41b8-ac4a-811760b2a420":{id:"dfe46722-3b54-41b8-ac4a-811760b2a420",name:"Bus registrations",sources:[{id:"1",name:"Registrations.csv",columns:[{label:"MAKE",field:"make"},{label:"MODEL",field:"model"},{label:"Municipality",field:"municipality"},{label:"Operator",field:"operator"},{label:"Registered",field:"registered"},{label:"Length",field:"length"},{label:"Kind",field:"kind"},{label:"Year",field:"year"},{label:"Month",field:"month"},{label:"Canton",field:"canton"}],data:[{make:"MAN",model:"Lion's City",municipality:"122",operator:"Bernmobil",registered:"10",length:"12",kind:"city",year:"2019",month:"8",canton:"ZH"},{make:"MAN",model:"Lion's City",municipality:"122",operator:"Bernmobil",registered:"10",length:"12",kind:"city",year:"2019",month:"8",canton:"ZH"},{make:"MAN",model:"Lion's City",municipality:"122",operator:"Bernmobil",registered:"10",length:"12",kind:"city",year:"2019",month:"8",canton:"ZH"}]}],tables:[{id:"vehicle",name:"Vehicle",color:"#ea9999",properties:[{name:"Identifier",type:null},{name:"veh:length",type:"xsd:int"},{name:"veh:kind",type:"Kind"}]},{id:"municipality",name:"Municipality",color:"#fff2cc",properties:[{name:"Identifier",type:null},{name:"skos:broader",type:"Canton"}]},{id:"operator",name:"Operator",color:"#d9d2e9",properties:[{name:"Identifier",type:null},{name:"ex:location",type:"Municipality"}]},{id:"canton",name:"Canton",color:"#46bdc6",properties:[{name:"Identifier",type:null}]},{id:"registered",name:"Registered",color:"#d9ead3",properties:[{name:"Identifier",type:null},{name:"reg:vehicle",type:"Vehicle"},{name:"reg:operator",type:"Operator"},{name:"reg:count",type:"xsd:int"},{name:"reg:when",type:"xsd:gYearMonth"}]}],rules:[{table:"vehicle",property:"Identifier",columns:["make","model"],transform:"</{make}/{model}>"},{table:"vehicle",property:"veh:length",columns:["length"],transform:""},{table:"vehicle",property:"veh:kind",columns:["kind"],transform:"</but-type/{kind}>"},{table:"municipality",property:"Identifier",columns:["municipality"],transform:"</counties/{municipality}>"},{table:"municipality",property:"skos:broader",columns:["canton"],transform:"</canton/{canton}>"},{table:"operator",property:"Identifier",columns:["operator"],transform:"</operators/{operator}>"},{table:"operator",property:"ex:location",columns:["municipality"],transform:"</counties/{municipality}>"},{table:"canton",property:"Identifier",columns:["canton"],transform:"</canton/{canton}>"},{table:"registered",property:"Identifier",columns:["make","model","operator"],transform:"</registration/{make}/{model}/{operator}>"},{table:"registered",property:"reg:vehicle",columns:["make","model"],transform:"</{make}/{model}>"},{table:"registered",property:"reg:operator",columns:["operator"],transform:"</operators/{operator}>"},{table:"registered",property:"reg:count",columns:["registered"],transform:""},{table:"registered",property:"reg:when",columns:["month","year"],transform:"{month}-{year}"}].map((function(t,e){return se({},t,{id:e.toString()})}))},"7a3ff67b-34ac-40cb-95a5-bd1fce8d34cd":{id:"7a3ff67b-34ac-40cb-95a5-bd1fce8d34cd",name:"Bafu UBD",sources:[{id:"1",name:"UBD0028.Daten_de-sample.csv",columns:[{label:"station_id",field:"station_id"},{label:"station_name",field:"station_name"},{label:"station_measuring_network",field:"station_measuring_network"},{label:"station_canton",field:"station_canton"},{label:"station_y",field:"station_y"},{label:"station_x",field:"station_x"},{label:"station_E",field:"station_E"},{label:"station_N",field:"station_N"},{label:"station_altitude",field:"station_altitude"},{label:"area_type_de",field:"area_type_de"},{label:"station_type_de",field:"station_type_de"},{label:"pollutant_name_de",field:"pollutant_name_de"},{label:"pollutant_description_de",field:"pollutant_description_de"},{label:"aggregation_name_de",field:"aggregation_name_de"},{label:"limitvalue",field:"limitvalue"},{label:"year",field:"year"},{label:"value",field:"value"},{label:"unit_name_de",field:"unit_name_de"},{label:"value_remark",field:"value_remark"}],data:[{station_id:"agAAR",station_name:"Aarau",station_measuring_network:"AG",station_canton:"AG",station_y:"646350",station_x:"249400",station_E:"2646350",station_N:"1249400",station_altitude:"383",area_type_de:"Städtisch",station_type_de:"Verkehr",pollutant_name_de:"NO2",pollutant_description_de:"Stickstoffdioxid",aggregation_name_de:"95%-Wert der 1/2h-Mittel",limitvalue:"100",year:"1986",value:"80,1",unit_name_de:"µg/m3",value_remark:""},{station_id:"agAAR",station_name:"Aarau",station_measuring_network:"AG",station_canton:"AG",station_y:"646350",station_x:"249400",station_E:"2646350",station_N:"1249400",station_altitude:"383",area_type_de:"Städtisch",station_type_de:"Verkehr",pollutant_name_de:"NO2",pollutant_description_de:"Stickstoffdioxid",aggregation_name_de:"95%-Wert der 1/2h-Mittel",limitvalue:"100",year:"1987",value:"51,3",unit_name_de:"µg/m3",value_remark:""},{station_id:"agAAR",station_name:"Aarau",station_measuring_network:"AG",station_canton:"AG",station_y:"646350",station_x:"249400",station_E:"2646350",station_N:"1249400",station_altitude:"383",area_type_de:"Städtisch",station_type_de:"Verkehr",pollutant_name_de:"NO2",pollutant_description_de:"Stickstoffdioxid",aggregation_name_de:"95%-Wert der 1/2h-Mittel",limitvalue:"100",year:"1988",value:"49,3",unit_name_de:"µg/m3",value_remark:""}]}],tables:[{id:"Facts",name:"Facts",color:"#d9ead3",properties:[{name:"Identifier",type:null},{name:"ubd:station",type:"Station"},{name:"ubd:area",type:"Area"},{name:"ubd:pollutant",type:"Pollutant"},{name:"ubd:year",type:"xsd:gYear"},{name:"ubd:value",type:"xsd:float"}]},{id:"Station",name:"Station",color:"#46bdc6",properties:[{name:"Identifier",type:null},{name:"rdfs:label",type:"xsd:string"},{name:"ubd:canton",type:"xsd:string"},{name:"ubd:x",type:"xsd:int"},{name:"ubd:y",type:"xsd:int"},{name:"ubd:E",type:"xsd:int"},{name:"ubd:N",type:"xsd:int"},{name:"ubd:altitude",type:"xsd:int"},{name:"ubd:measuring_network",type:"xsd:string"},{name:"ubd:type",type:"xsd:string"}]},{id:"Area",name:"Area",color:"#d9d2e9",properties:[{name:"Identifier",type:null},{name:"rdfs:label",type:"xsd:string"}]},{id:"Pollutant",name:"Pollutant",color:"#fff2cc",properties:[{name:"Identifier",type:null},{name:"rdfs:label",type:"xsd:string"},{name:"rdfs:comment",type:"xsd:string"}]}],rules:[{table:"Facts",property:"udb:station",columns:["station_id"],transform:"</stations/{station_id}>"},{table:"Facts",property:"udb:area",columns:["area_type_de"],transform:"</areas/{area_type_de}>"},{table:"Facts",property:"udb:pollutant",columns:["pollutant_name_de"],transform:"</pollutants/{pollutant_name_de}>"},{table:"Facts",property:"udb:year",columns:["year"],transform:""},{table:"Facts",property:"udb:value",columns:["value"],transform:""},{table:"Station",property:"Identifier",columns:["station_id"],transform:"</stations/{station_id}>"},{table:"Station",property:"rdfs:label",columns:["station_name"],transform:""},{table:"Area",property:"Identifier",columns:["area_type_de"],transform:"</areas/{area_type_de}>"},{table:"Pollutant",property:"Identifier",columns:["pollutant_name_de"],transform:"</pollutants/{pollutant_name_de}>"},{table:"Pollutant",property:"rdfs:label",columns:["pollutant_name_de"],transform:""},{table:"Pollutant",property:"rdfs:comment",columns:["pollutant_description_de"],transform:""}].map((function(t,e){return se({},t,{id:e.toString()})}))}}},le={list:function(t){return Object.values(t.projects)},one:function(t){return function(e){return t.projects[e]}}},ue={},pe={},de={namespaced:!0,state:ce,getters:le,actions:ue,mutations:pe};a["a"].use(Nt["a"]);var be={strict:!1,state:{},modules:{projects:oe,projectsFixtures:de}},fe=new Nt["a"].Store(be);r("5abe");a["a"].use(u["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Mt,store:fe,render:function(t){return t(l)}}).$mount("#app")},e699:function(t,e,r){}});
//# sourceMappingURL=app.0bd9ca0d.js.map